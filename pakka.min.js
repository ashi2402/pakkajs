!function(e,n){if("function"==typeof define&&define.amd)define(["lodash"],n);else if("object"==typeof module&&module.exports){var t=require("lodash");module.exports=n(t)}else e.pakka=n(_)}(this,function(e){var n=document.getElementsByTagName("head")[0],t=0,i=0,r=["abort","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","show","stalled","submit","suspend","timeupdate","toggle","volumechange","waiting","webkitfullscreenchange","webkitfullscreenerror","wheel","touchstart","touchend","touchmove","touchcancel"],o=function(n){var r,o=n.name||"component-"+t++;return n.controller||(n.controller=function(){}),function(){var t,a=this;a.$properties={};a.$get=function(n){try{return e.get(a.$properties,n)}catch(e){}},a.$set=function(n,t){e.set(a.$properties,n,t),b(a,n,t,!0,!0)},a.$name=o,a.$options=n;var s=a.$id=o+"-"+i++;u(r)&&(r=y(n.css||"",o,r)),a.$setCss=function(e){t=y(e||"",a.$componentId,t)},a.$setElements=function(e){h(a),$(a),a.$propertyBindings={},a.$listeners=[],a.$elements=e,m(e,function(e){U(e,o),U(e,s),k(e,a,s),C(e,a,s)})},a.$attachEvent=function(e,n,t,i){B(e,n,t,a,i)},a.$setHtml=function(e){var t=document.createElement("div");t.innerHTML=n.html||"<div></div>",a.$setElements(c(t.children))},u(n.elements)?a.$setHtml(n.html):a.$setElements(n.elements),a.$detachEvents=function(e){h(a,e)},a.$removePropertyBindings=function(){$(a)},a.$destroy=function(){h(a),$(a),m(a,function(e,n){delete a[n]}),delete a},a.$watch=function(e,n){L(null,a,"watch",function(e,t,i){var r=i.$get(t);return function(e){n&&n(e,r),r=e}},e)};new n.controller(a)}};o.version="1.1.6";var c=o.select=function(e){s(e)&&(e=document.querySelectorAll(e));var n=[];return m(e,function(e){n.push(e)}),n},a=o.create=function(e){s(e)?e={elements:c(e)}:e.elementsSelector&&(e.elements=c(e.elementsSelector));var n=o(e);return new n},s=(o.createMany=function(e){var n=[],t=c(e);return m(t,function(e){var t={elements:[]};t.elements.push(e),n.push(a(t))}),n},o.isString=e.isString),u=o.isUndefined=e.isUndefined,l=o.isObject=e.isObject,d={},f=d.constructor.toString(),p=o.isSimpleObject=function(e){return!!l(e)&&e.constructor.toString()==f},v=o.isArray=e.isArray,m=o.each=e.each,h=o.detachEvents=function(e,n){var t=[];m(e.$listeners,function(i){u(n)||i.namespace===n?(g(i.event,i.element,i.handler,e),delete i):t.push(i)}),u(n)?delete e.$listeners:e.$listeners=t},g=o.detachEvent=function(e,n,t,i){n.removeEventListener?g=o.detachEvent=function(e,n,t,i){n.removeEventListener(e,t,!1)}:n.detachEvent&&(g=o.detachEvent=function(e,n,t,i){n.detachEvent("on"+e,t)}),g(e,n,t,i)},$=o.removePropertyBindings=function(e,n){m(e.$propertyBindings,function(t,i){if(u(n))delete e.$propertyBindings[i];else{var t=e.$propertyBindings[i],r=[];m(t,function(e){e.namespace!=n&&r.push(e)}),e.$propertyBindings[i]=r}})},y=o.addStyleSheet=function(e,t,i){return u(i)&&(i=document.createElement("style"),i.setAttribute("id",t),n.appendChild(i)),i.innerHTML=e,i},b=o.apply=function(e,n,t,i,r){if(u(n))m(e.$propertyBindings,function(n,t){b(e,t,e.$get(t))});else if(m(e.$propertyBindings[n],function(e){e.callback(t)}),i===!0&&(v(t)?m(t,function(t,i){b(e,n+"["+i+"]",t,!0,!1)}):p(t)&&m(t,function(t,i){b(e,n+"."+i,t,!0,!1)})),r===!0){var o=n.split(".");if(o.pop(),o.length>0){var c=o.join(".");b(e,c,e.$get(c),!1,!0)}}},E=o.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},k=o.linkBinders=function(e,n,t){m(S,function(i,r){var o=e.querySelectorAll("["+r+"]");e.hasAttribute(r)&&L(e,n,t,i,r),m(o,function(e){L(e,n,t,i,r)})})},L=o.linkerFunction=function(e,n,t,i,r){var o=e?e.getAttribute(r):r,c=n.$propertyBindings[o]||[];c.push({namespace:t,callback:i(e,o,n)}),n.$propertyBindings[o]=c},C=o.attachEvents=function(e,n,t){m(n.eventsList||n.$options.eventsList||o.eventsList||r,function(i){var r=i+"-handle",o=e.querySelectorAll("["+r+"]"),c=function(e){var o=e.getAttribute(r);B(i,e,function(e){n[o]&&n[o](e)},n,t)};e.hasAttribute(r)&&c(e),m(o,c)})},B=o.attachEvent=function(e,n,t,i,r){n.addEventListener?B=o.attachEvent=function(e,n,t,i,r){w(e,n,t,i,r),n.addEventListener(e,t,!1)}:n.attachEvent&&(B=o.attachEvent=function(e,n,t,i,r){w(e,n,t,i,r),n.attachEvent("on"+e,t)}),B(e,n,t,i,r)},w=o.pushListener=function(e,n,t,i,r){i.$listeners.push({element:n,event:e,handler:t,namespace:r})},S={},T=o.addBinder=function(e,n){S[e]=n},A=function(e){return u(e)?"":l(e)?JSON.stringify(e):e};T("bind-repeat",function(n,t,i){var r=n.parentElement,c=n.nextSibling,a=document.createElement("div"),s=n.getAttribute("var-name"),d=n.getAttribute("var-key"),f=n.getAttribute("var-index"),p=[],h={},g=o({html:n.innerHTML});n.innerHTML="",a.appendChild(n);var $=a.innerHTML;return function(n){if(!u(n)&&(v(n)||l(n))){var o=p.length,y=e.keys(n),b=v(n),k=b?n.length:y.length;if(o>k){for(var L=k;L<o;L++)r.removeChild(p[L]);p.splice(k)}else if(o<k)for(var L=o;L<k;L++){a.innerHTML=$;var C=a.children[0];r.insertBefore(C,c),p.push(C)}var L=0;m(n,function(e,n){var r=p[L],o=h[n];o||(o=new g,b?i.$watch(t+"["+n+"]",function(e){o.$set(s,e),o.$set(f,n)}):i.$watch(t+"."+n,function(e){o.$set(s,e),o.$set(d,n)})),r.children[0]!=o.$elements[0]&&m(o.$elements,function(e){E(r),r.appendChild(e)}),o.$set(s,e),b?o.$set(f,n):o.$set(d,n),h[n]=o,L++})}}});T("bind-html",function(e,n,t){var i="bind-html-"+x++;return function(n){h(t,i),$(t,i),e.innerHTML=A(n),k(e,t,i),C(e,t,i)}});var x=0,H=function(e){return e.value},M=function(e,n){e.value=n},N=function(e){return e.checked},j=function(e,n){e.checked=n},q=function(e){return e.values},O=function(e,n){e.values=n},I=function(e){return e.innerText},P=function(e,n){e.innerText=n};T("bind-property",function(e,n,t){var i="bind-property-"+x++,r=function(e){var i=e.keyCode;16!=i&&17!=i&&18!=i&&t.$set(n,o(e.target))},o=H,c=M;return m(e.attributes,function(e){if("type"==e.name&&"checkbox"==e.value)return o=N,c=j,!1}),"SELECT"==e.tagName?(o=q,c=O):"DIV"==e.tagName&&(o=I,c=P),m(["change","keyup"],function(n){B(n,e,r,t,i)}),function(n){u(n)||c(e,n)}}),T("bind-text",function(e,n,t){return function(n){e.innerText=A(n)}}),T("bind-component",function(e,n,t){return function(n){u(n)||(E(e),m(n.$elements,function(n){e.appendChild(n)}))}}),T("bind-components",function(e,n,t){var i=e.parentElement,r=e.nextSibling,o=document.createElement("div"),c=[];o.appendChild(e);var a=o.innerHTML;return function(e){if(!u(e)&&v(e)){var n=c.length,t=e.length;if(n>t){for(var s=t;s<n;s++)i.removeChild(c[s]);c.splice(t)}else if(n<t)for(var s=n;s<t;s++){o.innerHTML=a;var l=o.children[0];i.insertBefore(l,r),c.push(l)}m(e,function(e,n){var t=c[n];t.children[0]!=e.$elements[0]&&(E(t),m(e.$elements,function(e){t.appendChild(e)}))})}}});var U=o.addClass=function(e,n){(U=e.classList?o.addClass=function(e,n){e.classList.add(n)}:o.addClass=function(e,n){e.className+=" "+n})(e,n)},z=o.removeClass=function(e,n){(z=e.classList?o.removeClass=function(e,n){e.classList.remove(n)}:o.removeClass=function(e,n){e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")})(e,n)};return o.addBinder("bind-class",function(e,n,t){var i={};return function(n){m(i,function(e,n){i[n]=!1}),v(n)?m(n,function(e){i[e]=!0}):s(n)?i[n]=!0:l(n)&&m(n,function(e,n){i[n]=e}),m(i,function(n,t){n===!0?U(e,t):z(e,t)})}}),o.addBinder("bind-element",function(e,n,t){return t.$set(n,e),function(){}}),o});