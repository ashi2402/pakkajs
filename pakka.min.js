!function(e,n){if("function"==typeof define&&define.amd)define(["lodash"],n);else if("object"==typeof module&&module.exports){var t=require("lodash");module.exports=n(t)}else e.pakka=n(_)}(this,function(e){var n=document.getElementsByTagName("head")[0],t=0,i=0,r=["abort","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","show","stalled","submit","suspend","timeupdate","toggle","volumechange","waiting","webkitfullscreenchange","webkitfullscreenerror","wheel","touchstart","touchend","touchmove","touchcancel"],o=function(n){var r,o=n.name||"component-"+t++;return n.controller||(n.controller=function(){}),function(){var t,a=this;a.$properties={};a.$get=function(n){try{return e.get(a.$properties,n)}catch(e){}},a.$set=function(n,t){e.set(a.$properties,n,t),b(a,n,t,!0,!0)},a.$name=o,a.$options=n;var s=a.$id=o+"-"+i++;u(r)&&(r=y(n.css||"",o,r)),a.$setCss=function(e){t=y(e||"",a.$componentId,t)},a.$setElements=function(e){h(a),$(a),a.$propertyBindings={},a.$listeners=[],a.$elements=e,v(e,function(e){j(e,o),j(e,s),L(e,a,s),C(e,a,s)})},a.$attachEvent=function(e,n,t,i){w(e,n,t,a,i)},a.$setHtml=function(e){var t=document.createElement("div");t.innerHTML=n.html||"<div></div>",a.$setElements(c(t.children))},u(n.elements)?a.$setHtml(n.html):a.$setElements(n.elements),a.$detachEvents=function(e){h(a,e)},a.$removePropertyBindings=function(){$(a)},a.$destroy=function(){h(a),$(a),v(a,function(e,n){delete a[n]}),delete a},a.$watch=function(e,n){k(null,a,"watch",function(e,t,i){var r=i.$get(t);return function(e){n&&n(e,r),r=e}},e)};new n.controller(a)}};o.version="1.1.3";var c=o.select=function(e){s(e)&&(e=document.querySelectorAll(e));var n=[];return v(e,function(e){n.push(e)}),n},a=o.create=function(e){s(e)?e={elements:c(e)}:e.elementsSelector&&(e.elements=c(e.elementsSelector));var n=o(e);return new n},s=(o.createMany=function(e){var n=[],t=c(e);return v(t,function(e){var t={elements:[]};t.elements.push(e),n.push(a(t))}),n},o.isString=e.isString),u=o.isUndefined=e.isUndefined,l=o.isObject=e.isObject,d={},f=d.constructor.toString(),p=o.isSimpleObject=function(e){return!!l(e)&&e.constructor.toString()==f},m=o.isArray=e.isArray,v=o.each=e.each,h=o.detachEvents=function(e,n){var t=[];v(e.$listeners,function(i){u(n)||i.namespace===n?(g(i.event,i.element,i.handler,e),delete i):t.push(i)}),u(n)?delete e.$listeners:e.$listeners=t},g=o.detachEvent=function(e,n,t,i){n.removeEventListener?g=o.detachEvent=function(e,n,t,i){n.removeEventListener(e,t,!1)}:n.detachEvent&&(g=o.detachEvent=function(e,n,t,i){n.detachEvent("on"+e,t)}),g(e,n,t,i)},$=o.removePropertyBindings=function(e,n){v(e.$propertyBindings,function(t,i){if(u(n))delete e.$propertyBindings[i];else{var t=e.$propertyBindings[i],r=[];v(t,function(e){e.namespace!=n&&r.push(e)}),e.$propertyBindings[i]=r}})},y=o.addStyleSheet=function(e,t,i){return u(i)&&(i=document.createElement("style"),i.setAttribute("id",t),n.appendChild(i)),i.innerHTML=e,i},b=o.apply=function(e,n,t,i,r){if(u(n))v(e.$propertyBindings,function(n,t){b(e,t,e.$get(t))});else if(v(e.$propertyBindings[n],function(e){e.callback(t)}),i===!0&&(m(t)?v(t,function(t,i){b(e,n+"["+i+"]",t,!0,!1)}):p(t)&&v(t,function(t,i){b(e,n+"."+i,t,!0,!1)})),r===!0){var o=n.split(".");if(o.pop(),o.length>0){var c=o.join(".");b(e,c,e.$get(c),!1,!0)}}},E=o.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},L=o.linkBinders=function(e,n,t){v(H,function(i,r){var o=e.querySelectorAll("["+r+"]");e.hasAttribute(r)&&k(e,n,t,i,r),v(o,function(e){k(e,n,t,i,r)})})},k=o.linkerFunction=function(e,n,t,i,r){var o=e?e.getAttribute(r):r,c=n.$propertyBindings[o]||[];c.push({namespace:t,callback:i(e,o,n)}),n.$propertyBindings[o]=c},C=o.attachEvents=function(e,n,t){v(n.eventsList||n.$options.eventsList||o.eventsList||r,function(i){var r=i+"-handle",o=e.querySelectorAll("["+r+"]"),c=function(e){var o=e.getAttribute(r);w(i,e,function(e){n[o]&&n[o](e)},n,t)};e.hasAttribute(r)&&c(e),v(o,c)})},w=o.attachEvent=function(e,n,t,i,r){n.addEventListener?w=o.attachEvent=function(e,n,t,i,r){B(e,n,t,i,r),n.addEventListener(e,t,!1)}:n.attachEvent&&(w=o.attachEvent=function(e,n,t,i,r){B(e,n,t,i,r),n.attachEvent("on"+e,t)}),w(e,n,t,i,r)},B=o.pushListener=function(e,n,t,i,r){i.$listeners.push({element:n,event:e,handler:t,namespace:r})},H={},S=o.addBinder=function(e,n){H[e]=n},A=function(e){return u(e)?"":l(e)?JSON.stringify(e):e},T={},M=function(e,n,t){n=n||"pakka-generic-namespace",timeoutHandle=T[n],timeoutHandle&&clearTimeout(timeoutHandle),timeoutHandle=setTimeout(e,t),T[n]=timeoutHandle};S("bind-repeat",function(n,t,i){var r=n.parentElement,c=(n.nextSibling,document.createElement("div")),a=n.getAttribute("var-name"),s=n.getAttribute("var-key"),d=n.getAttribute("var-index"),f=[],p={},h=o({html:n.innerHTML});n.innerHTML="",c.appendChild(n);var g=c.innerHTML;return function(n){if(!u(n)&&(m(n)||l(n))){var o=f.length,$=e.keys(n),y=m(n),b=y?n.length:$.length;if(o>b){for(var E=b;E<o;E++)r.removeChild(f[E]);f.splice(b)}else if(o<b)for(var E=o;E<b;E++){c.innerHTML=g;var L=c.children[0];r.appendChild(L),f.push(L)}var E=0;v(n,function(e,n){var r=f[E],o=p[n];o||(o=new h,y?i.$watch(t+"["+n+"]",function(e){o.$set(a,e),o.$set(d,n)}):i.$watch(t+"."+n,function(e){o.$set(a,e),o.$set(s,n)})),r.children[0]!=o.$elements[0]&&v(o.$elements,function(e){r.appendChild(e)}),o.$set(a,e),y?o.$set(d,n):o.$set(s,n),p[n]=o,E++})}}});S("bind-html",function(e,n,t){var i="bind-html-"+x++;return function(n){h(t,i),$(t,i),e.innerHTML=A(n),L(e,t,i),C(e,t,i)}});var x=0;S("bind-property",function(e,n,t){var i="bind-property-"+x++,r=function(e){M(function(){t.$set(n,e.target.value)},i)};return v(["change","keyup","paste"],function(n){w(n,e,r,t,i)}),function(n){u(n)||(e.value=n)}}),S("bind-text",function(e,n,t){return function(n){e.innerText=A(n)}}),S("bind-component",function(e,n,t){return function(n){u(n)||(E(e),v(n.$elements,function(n){e.appendChild(n)}))}}),S("bind-components",function(e,n,t){var i=e.parentElement,r=(e.nextSibling,document.createElement("div")),o=[];r.appendChild(e);var c=r.innerHTML;return function(e){if(!u(e)&&m(e)){var n=o.length,t=e.length;if(n>t){for(var a=t;a<n;a++)i.removeChild(o[a]);o.splice(t)}else if(n<t)for(var a=n;a<t;a++){r.innerHTML=c;var s=r.children[0];i.appendChild(s),o.push(s)}v(e,function(e,n){var t=o[n];t.children[0]!=e.$elements[0]&&v(e.$elements,function(e){t.appendChild(e)})})}}});var j=o.addClass=function(e,n){(j=e.classList?o.addClass=function(e,n){e.classList.add(n)}:o.addClass=function(e,n){e.className+=" "+n})(e,n)},N=o.removeClass=function(e,n){(N=e.classList?o.removeClass=function(e,n){e.classList.remove(n)}:o.removeClass=function(e,n){e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")})(e,n)};return o.addBinder("bind-class",function(e,n,t){var i={};return function(n){v(i,function(e,n){i[n]=!1}),m(n)?v(n,function(e){i[e]=!0}):s(n)?i[n]=!0:l(n)&&v(n,function(e,n){i[n]=e}),v(i,function(n,t){n===!0?j(e,t):N(e,t)})}}),o.addBinder("bind-element",function(e,n,t){return t.$set(n,e),function(){}}),o});