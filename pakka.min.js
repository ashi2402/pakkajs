!function(e,n){if("function"==typeof define&&define.amd)define(["lodash"],n);else if("object"==typeof module&&module.exports){var t=require("lodash");module.exports=n(t)}else e.pakka=n(_)}(this,function(e){var n=document.getElementsByTagName("head")[0],t=0,i=0,r=["abort","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","show","stalled","submit","suspend","timeupdate","toggle","volumechange","waiting","webkitfullscreenchange","webkitfullscreenerror","wheel","touchstart","touchend","touchmove","touchcancel"],o=function(n){var r,o=n.name||"component-"+t++;return n.controller||(n.controller=function(){}),function(){var t,u=this;u.$properties={};u.$get=function(n){try{return e.get(u.$properties,n)}catch(e){}},u.$set=function(n,t){e.set(u.$properties,n,t),b(u,n,t,!0,!0)},u.$name=o,u.$options=n;var a=u.$id=o+"-"+i++;s(r)&&(r=y(n.css||"",o,r)),u.$setCss=function(e){t=y(e||"",u.$componentId,t)},u.$setElements=function(e){h(u),$(u),u.$propertyBindings={},u.$listeners=[],u.$elements=e,m(e,function(e){U(e,o),U(e,a),k(e,u,a),L(e,u,a)})},u.$attachEvent=function(e,n,t,i){B(e,n,t,u,i)},u.$setHtml=function(e){var t=document.createElement("div");t.innerHTML=n.html||"<div></div>",u.$setElements(c(t.children))},s(n.elements)?u.$setHtml(n.html):u.$setElements(n.elements),u.$detachEvents=function(e){h(u,e)},u.$removePropertyBindings=function(){$(u)},u.$destroy=function(){h(u),$(u),m(u,function(e,n){delete u[n]}),delete u},u.$watch=function(e,n){C(null,u,"watch",function(e,t,i){var r=i.$get(t);return function(e){n&&n(e,r),r=e}},e)};new n.controller(u)}};o.version="1.1.6";var c=o.select=function(e){a(e)&&(e=document.querySelectorAll(e));var n=[];return m(e,function(e){n.push(e)}),n},u=o.create=function(e){a(e)?e={elements:c(e)}:e.elementsSelector&&(e.elements=c(e.elementsSelector));var n=o(e);return new n},a=(o.createMany=function(e){var n=[],t=c(e);return m(t,function(e){var t={elements:[]};t.elements.push(e),n.push(u(t))}),n},o.isString=e.isString),s=o.isUndefined=e.isUndefined,l=o.isObject=e.isObject,d={},f=d.constructor.toString(),p=o.isSimpleObject=function(e){return!!l(e)&&e.constructor.toString()==f},v=o.isArray=e.isArray,m=o.each=e.each,h=o.detachEvents=function(e,n){var t=[];m(e.$listeners,function(i){s(n)||i.namespace===n?(g(i.event,i.element,i.handler,e),delete i):t.push(i)}),s(n)?delete e.$listeners:e.$listeners=t},g=o.detachEvent=function(e,n,t,i){n.removeEventListener?g=o.detachEvent=function(e,n,t,i){n.removeEventListener(e,t,!1)}:n.detachEvent&&(g=o.detachEvent=function(e,n,t,i){n.detachEvent("on"+e,t)}),g(e,n,t,i)},$=o.removePropertyBindings=function(e,n){m(e.$propertyBindings,function(t,i){if(s(n))delete e.$propertyBindings[i];else{var t=e.$propertyBindings[i],r=[];m(t,function(e){e.namespace!=n&&r.push(e)}),e.$propertyBindings[i]=r}})},y=o.addStyleSheet=function(e,t,i){return s(i)&&(i=document.createElement("style"),i.setAttribute("id",t),n.appendChild(i)),i.innerHTML=e,i},b=o.apply=function(e,n,t,i,r){if(s(n))m(e.$propertyBindings,function(n,t){b(e,t,e.$get(t))});else if(m(e.$propertyBindings[n],function(e){e.callback(t)}),i===!0&&(v(t)?m(t,function(t,i){b(e,n+"["+i+"]",t,!0,!1)}):p(t)&&m(t,function(t,i){b(e,n+"."+i,t,!0,!1)})),r===!0){var o=n.split(".");if(o.pop(),o.length>0){var c=o.join(".");b(e,c,e.$get(c),!1,!0)}}},E=o.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},k=o.linkBinders=function(e,n,t){m(S,function(i,r){var o=e.querySelectorAll("["+r+"]");e.hasAttribute(r)&&C(e,n,t,i,r),m(o,function(e){C(e,n,t,i,r)})})},C=o.linkerFunction=function(e,n,t,i,r){var o=e?e.getAttribute(r):r,c=n.$propertyBindings[o]||[];c.push({namespace:t,callback:i(e,o,n)}),n.$propertyBindings[o]=c},L=o.attachEvents=function(e,n,t){m(n.eventsList||n.$options.eventsList||o.eventsList||r,function(i){var r=i+"-handle",o=e.querySelectorAll("["+r+"]"),c=function(e){var o=e.getAttribute(r);B(i,e,function(e){n[o]&&n[o](e)},n,t)};e.hasAttribute(r)&&c(e),m(o,c)})},B=o.attachEvent=function(e,n,t,i,r){n.addEventListener?B=o.attachEvent=function(e,n,t,i,r){w(e,n,t,i,r),n.addEventListener(e,t,!1)}:n.attachEvent&&(B=o.attachEvent=function(e,n,t,i,r){w(e,n,t,i,r),n.attachEvent("on"+e,t)}),B(e,n,t,i,r)},w=o.pushListener=function(e,n,t,i,r){i.$listeners.push({element:n,event:e,handler:t,namespace:r})},S={},A=o.addBinder=function(e,n){S[e]=n},x=function(e){return s(e)?"":l(e)?JSON.stringify(e):e};A("bind-repeat",function(e,n,t){var i=(document.createElement("div"),e.getAttribute("var-name")),r=e.getAttribute("var-key"),c=e.getAttribute("var-index"),u={},a=o({html:e.innerHTML});return e.innerHTML="",function(o){var d=v(o),f=l(o);if(!s(o)&&(d||f)){var p={};m(o,function(o,s){var l=p[o]=u[o];if(delete u[o],!l){l=p[o]=new a,l.$parent=t;var f,v;d?(f=n+"["+s+"]",v=c):(f=n+"."+s,v=r),t.$watch(f,function(e){l.$set(i,e)}),l.$set(v,s)}m(l.$elements,function(n){e.appendChild(n)})}),m(u,function(n){m(n.$elements,function(n){e.removeChild(n)})}),u=p}}});A("bind-html",function(e,n,t){var i="bind-html-"+T++;return function(n){h(t,i),$(t,i),e.innerHTML=x(n),k(e,t,i),L(e,t,i)}});var T=0,H=function(e){return e.value},N=function(e,n){e.value=n},j=function(e){return e.checked},M=function(e,n){e.checked=n},q=function(e){return e.values},O=function(e,n){e.values=n},I=function(e){return e.innerText},P=function(e,n){e.innerText=n};A("bind-property",function(e,n,t){var i="bind-property-"+T++,r=!1,o=function(e){var i=e.keyCode;16!=i&&17!=i&&18!=i&&(r=!0,t.$set(n,c(e.target)))},c=H,u=N;return m(e.attributes,function(e){if("type"==e.name&&"checkbox"==e.value)return c=j,u=M,!1}),"SELECT"==e.tagName?(c=q,u=O):"DIV"==e.tagName&&(c=I,u=P),m(["change","keyup"],function(n){B(n,e,o,t,i)}),function(n){r?r=!1:s(n)||u(e,n)}}),A("bind-text",function(e,n,t){return function(n){e.innerText=x(n)}}),A("bind-component",function(e,n,t){return function(n){s(n)||(E(e),m(n.$elements,function(n){e.appendChild(n)}))}}),A("bind-components",function(e,n,t){var i={};return E(e),function(n){if(!s(n)&&v(n)){var t={};m(n,function(n){var r=n.$id;delete i[r],t[r]=n,m(n.$elements,function(n){e.appendChild(n)})}),m(i,function(n){m(n.$elements,function(n){e.removeChild(n)})}),i=t}}});var U=o.addClass=function(e,n){(U=e.classList?o.addClass=function(e,n){e.classList.add(n)}:o.addClass=function(e,n){e.className+=" "+n})(e,n)},z=o.removeClass=function(e,n){(z=e.classList?o.removeClass=function(e,n){e.classList.remove(n)}:o.removeClass=function(e,n){e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")})(e,n)};return o.addBinder("bind-class",function(e,n,t){var i={};return function(n){m(i,function(e,n){i[n]=!1}),v(n)?m(n,function(e){i[e]=!0}):a(n)?i[n]=!0:l(n)&&m(n,function(e,n){i[n]=e}),m(i,function(n,t){n===!0?U(e,t):z(e,t)})}}),o.addBinder("bind-element",function(e,n,t){return t.$set(n,e),function(){}}),o});